{"version":3,"sources":["webpack:///src/views/search/Search.vue","webpack:///./src/api/search.js","webpack:///./src/views/search/Search.vue?100f","webpack:///./src/views/search/Search.vue"],"names":["Search","name","data","loading","hotKeys","singer","album","songs","w","methods","extends_default","_initMusicIco","this","musicIcos","push","$refs","musicIco1","musicIco2","musicIco3","forEach","item","run","transitionEndName","Object","util_event","addEventListener","style","display","webkitTransform","transform","icon","querySelector","_startMusicIcoAnimation","_ref","_this","clientX","clientY","length","_loop","i","top","left","setTimeout","search","_this2","assign_default","PARAM","g_tk","platform","needNewCode","catZhida","cr","t","flag_qc","aggr","n","p","remoteplace","_","Date","getTime","jsonp","URL","OPTION","search_search","then","res","code","config","zhida","type","zhiDaSinger","zhida_singer","models_singer","songNum","albumNum","zhiDaAlbum","zhida_album","models_album","song","list","pay","payplay","models_song","handleSearch","k","handleKeyDown","e","keyCode","currentTarget","value","handleClick","_this3","$router","path","$route","mId","items","_item","url","filename","vkey","setSongs","changeCurrentSong","vuex_esm","mutation_types","computed","cancelButtonStyle","searchHotStyle","albumStyle","id","singerStyle","created","_this4","uin","notice","hotkey","mounted","components","Loading","Scroll","search_Search","render","_vm","_h","$createElement","_c","_self","staticClass","_v","directives","rawName","expression","attrs","placeholder","domProps","on","keydown","input","$event","target","composing","click","_l","hot","index","key","_s","_e","src","img","alt","title","show","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.349e314f2eb52b47e001.js","sourcesContent":["<template>\r\n  <div class=\"music-search skin-search\">\r\n    <div class=\"search-box-wrapper skin-search-box-wrapper\">\r\n      <div class=\"search-box skin-search-box\">\r\n        <i class=\"icon-search\"></i>\r\n        <input type=\"text\" class=\"search-input\" placeholder=\"搜索歌曲、歌手、专辑\" v-model=\"w\" @keydown=\"handleKeyDown\" />\r\n      </div>\r\n      <div class=\"cancel-button\" :style=\"cancelButtonStyle\" @click=\"w = ''\">取消</div>\r\n    </div>\r\n    <div class=\"search-hot\" :style=\"searchHotStyle\">\r\n      <h1 class=\"title\">热门搜索</h1>\r\n      <div class=\"hot-list\">\r\n        <template v-for=\"(hot, index) in hotKeys\">\r\n          <div class=\"hot-item\" :key=\"hot.index\" @click=\"handleSearch(hot.k)\" v-if=\"index <= 10\">{{hot.k}}</div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n    <div class=\"search-result skin-search-result\" :style=\"cancelButtonStyle\">\r\n      <scroll>\r\n        <div class=\"result-container\">\r\n          <!-- 专辑 -->\r\n          <div class=\"album-wrapper\" :style=\"albumStyle\" @click=\"handleClick(album.mId, 'album', $event)\">\r\n            <div class=\"left\">\r\n              <img :src=\"album.img\" :alt=\"album.name\" />\r\n            </div>\r\n            <div class=\"right\">\r\n              <div class=\"song\">{{album.name}}</div>\r\n              <div class=\"singer\">{{album.singer}}</div>\r\n            </div>\r\n          </div>\r\n          <!-- 歌手 -->\r\n          <div class=\"singer-wrapper\" :style=\"singerStyle\" @click=\"handleClick(singer.mId, 'singer', $event)\">\r\n            <div class=\"left\">\r\n              <img :src=\"singer.img\" :alt=\"singer.name\" />\r\n            </div>\r\n            <div class=\"right\">\r\n              <div class=\"singer\">{{singer.name}}</div>\r\n              <div class=\"info\">单曲{{singer.songNum}} 专辑{{singer.albumNum}}</div>\r\n            </div>\r\n          </div>\r\n          <!-- 歌曲列表 -->\r\n          <div class=\"song-wrapper\" v-for=\"song in songs\" :key=\"song.id\" @click=\"handleClick(song, 'song', $event)\">\r\n            <div class=\"left\">\r\n              <i class=\"icon-fe-music\"></i>\r\n            </div>\r\n            <div class=\"right\">\r\n              <div class=\"song\">{{song.name}}</div>\r\n              <div class=\"singer\">{{song.singer}}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <loading title=\"正在加载...\" :show=\"loading\"/>\r\n      </scroll>\r\n    </div>\r\n    <div class=\"music-ico\" ref=\"musicIco1\">\r\n      <div class=\"icon-fe-music\"></div>\r\n    </div>\r\n    <div class=\"music-ico\" ref=\"musicIco2\">\r\n      <div class=\"icon-fe-music\"></div>\r\n    </div>\r\n    <div class=\"music-ico\" ref=\"musicIco3\">\r\n      <div class=\"icon-fe-music\"></div>\r\n    </div>\r\n    <transition name=\"translate\">\r\n      <router-view />\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapMutations } from \"vuex\"\r\n  import { CHANGE_SONG, SET_SONGS } from \"../../store/mutation-types\"\r\n  import Loading from \"@/components/loading/Loading\"\r\n  import Scroll from \"@/components/Scroll\"\r\n  import { getTransitionEndName } from \"@/util/event\"\r\n  import { getHotKey, search } from \"@/api/search\"\r\n  import { getSongVKey } from \"@/api/song\"\r\n  import { CODE_SUCCESS } from \"@/api/config\"\r\n  import * as SingerModel from \"@/models/singer\"\r\n  import * as AlbumModel from \"@/models/album\"\r\n  import * as SongModel from \"@/models/song\"\r\n\r\n  export default {\r\n    name: \"search\",\r\n    data() {\r\n      return {\r\n        loading: false,\r\n        hotKeys: [],\r\n        singer: {},\r\n        album: {},\r\n        songs: [],\r\n        w: \"\"\r\n      };\r\n    },\r\n    methods: {\r\n      /**\r\n       * 初始化音符图标\r\n       */\r\n      _initMusicIco() {\r\n        this.musicIcos = [];\r\n        this.musicIcos.push(this.$refs.musicIco1);\r\n        this.musicIcos.push(this.$refs.musicIco2);\r\n        this.musicIcos.push(this.$refs.musicIco3);\r\n\r\n        this.musicIcos.forEach((item) => {\r\n          // 初始化状态\r\n          item.run = false;\r\n          let transitionEndName = getTransitionEndName(item);\r\n          item.addEventListener(transitionEndName, function() {\r\n            this.style.display = \"none\";\r\n            this.style.webkitTransform = \"translate3d(0, 0, 0)\";\r\n            this.style.transform = \"translate3d(0, 0, 0)\";\r\n            this.run = false;\r\n\r\n            let icon = this.querySelector(\"div\");\r\n            icon.style.webkitTransform = \"translate3d(0, 0, 0)\";\r\n            icon.style.transform = \"translate3d(0, 0, 0)\";\r\n          }, false);\r\n        });\r\n      },\r\n      /**\r\n       * 开始音符下落动画\r\n       */\r\n      _startMusicIcoAnimation({clientX, clientY}) {\r\n        if (this.musicIcos.length > 0) {\r\n          for (let i = 0; i < this.musicIcos.length; i++) {\r\n            let item = this.musicIcos[i];\r\n            // 选择一个未在动画中的元素开始动画\r\n            if (item.run === false) {\r\n              item.style.top = clientY + \"px\";\r\n              item.style.left = clientX + \"px\";\r\n              item.style.display = \"inline-block\";\r\n              setTimeout(() => {\r\n                item.run = true;\r\n                item.style.webkitTransform = \"translate3d(0, 1000px, 0)\";\r\n                item.style.transform = \"translate3d(0, 1000px, 0)\";\r\n\r\n                let icon = item.querySelector(\"div\");\r\n                icon.style.webkitTransform = \"translate3d(-30px, 0, 0)\";\r\n                icon.style.transform = \"translate3d(-30px, 0, 0)\";\r\n              }, 10);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      /**\r\n       * 搜索\r\n       */\r\n      search(w) {\r\n        this.w = w;\r\n        this.singer = [];\r\n        this.album = {};\r\n        this.songs = [];\r\n        this.loading = true;\r\n        search(w).then((res) => {\r\n          // console.log(\"搜索：\");\r\n          if (res) {\r\n            // console.log(res);\r\n            if (res.code === CODE_SUCCESS) {\r\n              let zhida = res.data.zhida;\r\n              let type = zhida.type;\r\n              let singer = {};\r\n              let album = {};\r\n              switch (type) {\r\n                // 0：表示歌曲\r\n                case 0:\r\n                  break;\r\n                // 1：表示歌手\r\n                case 1:\r\n                  let zhiDaSinger = zhida.zhida_singer;\r\n                  singer = SingerModel.createSingerBySearch(zhiDaSinger);\r\n                  singer.songNum = zhiDaSinger.songNum;\r\n                  singer.albumNum = zhiDaSinger.albumNum;\r\n                  break;\r\n                // 2: 表示专辑\r\n                case 2:\r\n                  let zhiDaAlbum = zhida.zhida_album;\r\n                  album = AlbumModel.createAlbumBySearch(zhiDaAlbum);\r\n                  break;\r\n                default:\r\n                  break;\r\n              }\r\n\r\n              let songs = [];\r\n              res.data.song.list.forEach((data) => {\r\n                if (data.pay.payplay === 1) { return }\r\n                songs.push(SongModel.createSong(data));\r\n              });\r\n              this.album = album;\r\n              this.singer = singer;\r\n              this.songs = songs;\r\n              this.loading = false;\r\n            }\r\n          }\r\n        });\r\n      },\r\n      handleSearch(k) {\r\n        this.search(k);\r\n      },\r\n      handleKeyDown(e) {\r\n        this.album = {};\r\n        this.singer = {};\r\n        this.songs = [];\r\n        if (e.keyCode === 13) {\r\n          this.search(e.currentTarget.value);\r\n        }\r\n      },\r\n      handleClick(data, type, e) {\r\n        switch (type) {\r\n          case \"album\":\r\n            // 跳转到专辑详情\r\n            this.$router.push({\r\n              path: `${this.$route.path}/album/${data}`\r\n            });\r\n            break;\r\n          case \"singer\":\r\n            // 跳转到歌手详情\r\n            this.$router.push({\r\n              path: `${this.$route.path}/singer/${data}`\r\n            });\r\n            break;\r\n          case \"song\":\r\n            this._startMusicIcoAnimation(e);\r\n            getSongVKey(data.mId).then((res) => {\r\n              if (res) {\r\n                if (res.code === CODE_SUCCESS) {\r\n                  if (res.data.items) {\r\n                    let item = res.data.items[0];\r\n                    data.url = `http://dl.stream.qqmusic.qq.com/${item.filename}?vkey=${item.vkey}&guid=3655047200&fromtag=66`;\r\n                    this.setSongs([data]);\r\n                    this.changeCurrentSong(data);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      },\r\n      ...mapMutations({\r\n        changeCurrentSong: CHANGE_SONG,\r\n        setSongs: SET_SONGS\r\n      })\r\n    },\r\n    computed: {\r\n      cancelButtonStyle() {\r\n        return {display: this.w ? \"block\" : \"none\"};\r\n      },\r\n      searchHotStyle() {\r\n        return {display: this.w ? \"none\" : \"block\"};\r\n      },\r\n      albumStyle() {\r\n        return {display: this.album.id ? \"block\" : \"none\"};\r\n      },\r\n      singerStyle() {\r\n        return {display: this.singer.id ? \"block\" : \"none\"};\r\n      }\r\n    },\r\n    created() {\r\n      getHotKey().then((res) => {\r\n        // console.log(\"获取热搜：\");\r\n        if (res) {\r\n          // console.log(res);\r\n          if (res.code === CODE_SUCCESS) {\r\n            this.hotKeys = res.data.hotkey;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    mounted() {\r\n      this._initMusicIco();\r\n    },\r\n    components: {\r\n      Loading,\r\n      Scroll\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  .music-search\r\n    height: 100%\r\n    /*background-color: #FFFFFF*/\r\n    .search-box-wrapper\r\n      position: relative\r\n      padding: 20px\r\n      /*background-color: #F8F8FF*/\r\n    .search-box\r\n      padding: 10px\r\n      border-radius: 3px\r\n      line-height: 0\r\n      /*background-color: #FFFFFF*/\r\n      i\r\n        vertical-align: middle\r\n      .search-input\r\n        width: 80%\r\n        margin-left: 8px\r\n        background: none\r\n        border: none\r\n        outline: none\r\n        vertical-align: middle\r\n        /*color: #000000*/\r\n    .cancel-button\r\n      position: absolute\r\n      top: 50%\r\n      right: 30px\r\n      margin-top: -8px\r\n      height: 16px\r\n      line-height: 1\r\n      font-size: 14px\r\n      display: none\r\n    .search-hot\r\n      position: absolute\r\n      left: 20px\r\n      right: 20px\r\n      padding-top: 10px\r\n      display: none\r\n      .title\r\n        font-size: 14px\r\n        /*color: rgba(0, 0, 0, .7)*/\r\n      .hot-list\r\n        .hot-item\r\n          float: left\r\n          padding: 5px 8px\r\n          margin-right: 10px\r\n          margin-top: 10px\r\n          border-radius: 10px\r\n          font-size: 14px\r\n          /*color: #000000\r\n          border: 1px solid rgba(0, 0, 0, .7)*/\r\n    .search-result\r\n      position: absolute\r\n      left: 0\r\n      right: 0\r\n      top: 77px\r\n      bottom: 0\r\n      .album-wrapper\r\n        padding: 5px 10px\r\n        font-size: 0\r\n        /*border-top: 1px solid #E5E5E5*/\r\n        .left\r\n          display: inline-block\r\n          width: 40px\r\n          height: 40px\r\n          img\r\n            width: 100%\r\n            height: @width\r\n        .right\r\n          display: inline-block\r\n          margin-left: 10px\r\n          vertical-align: top\r\n          max-width: 80%\r\n          .song, .singer\r\n            overflow: hidden\r\n            text-overflow: ellipsis\r\n            white-space: nowrap\r\n          .song\r\n            margin-top: 3px\r\n            padding: 1px 0\r\n            font-size: 14px\r\n            /*color: #000000*/\r\n          .singer\r\n            margin-top: 5px\r\n            font-size: 12px\r\n            /*color: rgba(0, 0, 0, .6)*/\r\n      .singer-wrapper\r\n        padding: 5px 10px\r\n        font-size: 0\r\n        /*border-top: 1px solid #E5E5E5*/\r\n        .left\r\n          display: inline-block\r\n          width: 40px\r\n          height: 40px\r\n          border-radius: 50%\r\n          img\r\n            width: 100%\r\n            height: @width\r\n            border-radius: 50%\r\n        .right\r\n          display: inline-block\r\n          margin-left: 10px\r\n          vertical-align: top\r\n          .singer\r\n            margin-top: 5px\r\n            font-size: 14px\r\n            /*color: #000000*/\r\n          .info\r\n            margin-top: 5px\r\n            font-size: 12px\r\n            /*color: rgba(0, 0, 0, .6)*/\r\n      .song-wrapper\r\n        padding: 5px 10px\r\n        font-size: 0\r\n        /*border-top: 1px solid #E5E5E5*/\r\n        .left\r\n          display: inline-block\r\n          width: 40px\r\n          height: 40px\r\n          line-height: 42px\r\n          text-align: center\r\n          font-size: 22px\r\n        .right\r\n          display: inline-block\r\n          margin-left: 10px\r\n          vertical-align: top\r\n          max-width: 80%\r\n          .song, .singer\r\n            overflow: hidden\r\n            text-overflow: ellipsis\r\n            white-space: nowrap\r\n          .song\r\n            padding: 3px 0 1px 0\r\n            font-size: 14px\r\n            /*color: #000000*/\r\n          .singer\r\n            margin-top: 5px\r\n            font-size: 12px\r\n            /*color: rgba(0, 0, 0, .6)*/\r\n\r\n  /*音符样式*/\r\n  .music-ico\r\n    position: fixed\r\n    z-index: 1000\r\n    margin-top: -7px\r\n    margin-left: -7px\r\n    color: #FFD700\r\n    font-size: 14px\r\n    display: none\r\n    transition: transform 1s cubic-bezier(.59, -0.1, .83, .67)\r\n    transform: translate3d(0, 0, 0)\r\n    div\r\n      transition: transform 1s\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/search/Search.vue","import jsonp from \"./jsonp\"\r\nimport { URL, PARAM, OPTION } from \"./config\"\r\n\r\nexport function getHotKey() {\r\n  const data = Object.assign({}, PARAM, {\r\n    g_tk: 5381,\r\n    uin: 0,\r\n    platform: \"h5\",\r\n    needNewCode: 1,\r\n    notice: 0,\r\n    _: new Date().getTime()\r\n  });\r\n  return jsonp(URL.hotkey, data, OPTION);\r\n}\r\n\r\nexport function search(w) {\r\n  const data = Object.assign({}, PARAM, {\r\n    g_tk: 5381,\r\n    platform: \"h5\",\r\n    needNewCode: 0,\r\n    catZhida: 1,\r\n    cr: 1,\r\n    t: 0,\r\n    flag_qc: 0,\r\n    aggr: 0,\r\n    n: 20,\r\n    p: 1,\r\n    w,\r\n    remoteplace: \"txt.yqq.song\",\r\n    _: new Date().getTime()\r\n  });\r\n\r\n  return jsonp(URL.search, data, OPTION);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/search.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-search skin-search\"},[_c('div',{staticClass:\"search-box-wrapper skin-search-box-wrapper\"},[_c('div',{staticClass:\"search-box skin-search-box\"},[_c('i',{staticClass:\"icon-search\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.w),expression:\"w\"}],staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"搜索歌曲、歌手、专辑\"},domProps:{\"value\":(_vm.w)},on:{\"keydown\":_vm.handleKeyDown,\"input\":function($event){if($event.target.composing){ return; }_vm.w=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"cancel-button\",style:(_vm.cancelButtonStyle),on:{\"click\":function($event){_vm.w = ''}}},[_vm._v(\"取消\")])]),_vm._v(\" \"),_c('div',{staticClass:\"search-hot\",style:(_vm.searchHotStyle)},[_c('h1',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('div',{staticClass:\"hot-list\"},[_vm._l((_vm.hotKeys),function(hot,index){return [(index <= 10)?_c('div',{key:hot.index,staticClass:\"hot-item\",on:{\"click\":function($event){_vm.handleSearch(hot.k)}}},[_vm._v(_vm._s(hot.k))]):_vm._e()]})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"search-result skin-search-result\",style:(_vm.cancelButtonStyle)},[_c('scroll',[_c('div',{staticClass:\"result-container\"},[_c('div',{staticClass:\"album-wrapper\",style:(_vm.albumStyle),on:{\"click\":function($event){_vm.handleClick(_vm.album.mId, 'album', $event)}}},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":_vm.album.img,\"alt\":_vm.album.name}})]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"song\"},[_vm._v(_vm._s(_vm.album.name))]),_vm._v(\" \"),_c('div',{staticClass:\"singer\"},[_vm._v(_vm._s(_vm.album.singer))])])]),_vm._v(\" \"),_c('div',{staticClass:\"singer-wrapper\",style:(_vm.singerStyle),on:{\"click\":function($event){_vm.handleClick(_vm.singer.mId, 'singer', $event)}}},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":_vm.singer.img,\"alt\":_vm.singer.name}})]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"singer\"},[_vm._v(_vm._s(_vm.singer.name))]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_vm._v(\"单曲\"+_vm._s(_vm.singer.songNum)+\" 专辑\"+_vm._s(_vm.singer.albumNum))])])]),_vm._v(\" \"),_vm._l((_vm.songs),function(song){return _c('div',{key:song.id,staticClass:\"song-wrapper\",on:{\"click\":function($event){_vm.handleClick(song, 'song', $event)}}},[_c('div',{staticClass:\"left\"},[_c('i',{staticClass:\"icon-fe-music\"})]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"song\"},[_vm._v(_vm._s(song.name))]),_vm._v(\" \"),_c('div',{staticClass:\"singer\"},[_vm._v(_vm._s(song.singer))])])])})],2),_vm._v(\" \"),_c('loading',{attrs:{\"title\":\"正在加载...\",\"show\":_vm.loading}})],1)],1),_vm._v(\" \"),_c('div',{ref:\"musicIco1\",staticClass:\"music-ico\"},[_c('div',{staticClass:\"icon-fe-music\"})]),_vm._v(\" \"),_c('div',{ref:\"musicIco2\",staticClass:\"music-ico\"},[_c('div',{staticClass:\"icon-fe-music\"})]),_vm._v(\" \"),_c('div',{ref:\"musicIco3\",staticClass:\"music-ico\"},[_c('div',{staticClass:\"icon-fe-music\"})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"translate\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f04f369\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/search/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f04f369\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f04f369\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f04f369\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/search/Search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}